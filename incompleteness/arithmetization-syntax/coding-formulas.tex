% Part: incompleteness
% Chapter: arithmetization-syntax
% Section: coding-formulas

\documentclass[../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{inc}{art}{frm}
\olsection{Coding \printtoken{P}{formula}}

\begin{prop}
The relation $\fn{Atom}(x)$ which holds iff $x$ is the G\"odel number
of an atomic !!{formula}, is primitive recursive.
\end{prop}

\begin{proof}
The number $x$ is the G\"odel number of an atomic !!{formula} iff
\begin{enumerate}
\item there are $n$, $j < x$, and $z < x$ such that for each $i < n$,
  $\fn{Term}((z)_i)$ and
\[
x = \Gn{\Obj P^n_j(} \concat \fn{flatten}(z) \concat \Gn{)} \text{, or}
\]
\item there are $z_1, z_2 < x$ such that $x = z_1 \concat \Gn{\eq}
  \concat \eq z_2$ and $\fn{Term}(z_1)$ and $\fn{Term}(z_2)$.
% Missing the case for bottom
\end{enumerate}
\end{proof}

\begin{prop}
The relation $\fn{Frm}(x)$ which holds iff $x$ is the G\"odel number
of !!a{formula} is primitive recursive.
\end{prop}

\begin{proof}
A sequence of symbols~$s$ is !!a{formula} iff there is formation
sequence~$s_0$, \dots, $s_{k-1} = s$ of !!{formula} which records
how~$s$ was formed from atomic !!{formula}s according the the
formation rules.  The code for each $s_i$ (and indeed of the code of
the sequence $\tuple{s_0, \dots, s_{k-1}}$ is less than the code~$x$
of~$s$.
\end{proof}

\end{document}
