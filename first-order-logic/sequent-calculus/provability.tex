% Part: first-order-logic
% Chapter: sequent-calculus
% Section: provability

% verification of properties of provability needed for maximally
% consistent sets in the completeness chapter.

\documentclass[../../include/open-logic-section]{subfiles}

\begin{document}

\olfileid{fol}{seq}{prv}
\olsection{Properties of Provability}


\begin{prop}\ollabel{prop:provability}
\begin{enumerate}
\item \ollabel{prop:provability-contr} If $\Gamma \Proves[\Log{LK}]
  !A$ and $\Gamma \cup \{ \lnot !A\} \Proves[\Log{LK}] \lfalse$, then
  $\Gamma$ is inconsistent.

\item \ollabel{prop:provability-lnot} If $\Gamma \cup \{!A\}
  \Proves[\Log{LK}] \lfalse$, then $\Gamma \Proves[\Log{LK}] \lnot !A$.

\item \ollabel{prop:provability-exhaustive} If $\Gamma \cup \{!A\}
  \Proves[\Log{LK}] \lfalse$ and $\Gamma \cup \{\lnot !A\}
  \Proves[\Log{LK}] \lfalse$, then $\Gamma \Proves[\Log{LK}] \lfalse$.

\tagitem{prvOr}{\ollabel{prop:provability-lor-left} If $\Gamma \cup \{!A\}
  \Proves \lfalse$ and $\Gamma \cup \{!B\} \Proves \lfalse$, then
    $\Gamma \cup \{!A \lor !B\} \Proves \lfalse$.}{}

\tagitem{prvOr}{\ollabel{prop:provability-lor-right} If $\Gamma
  \Proves[\Log{LK}] !A$ or $\Gamma \Proves[\Log{LK}] !B$,
      then $\Gamma \Proves[\Log{LK}] !A \lor !B$.}{}

\tagitem{prvAnd}{\ollabel{prop:provability-land-left} If $\Gamma
  \Proves[\Log{LK}] !A \land !B$ then $\Gamma \Proves[\Log{LK}] !A$
  and $\Gamma \Proves[\Log{LK}] !B$.}{}

\tagitem{prvAnd}{\ollabel{prop:provability-land-right} If $\Gamma
  \Proves[\Log{LK}] !A$ and $\Gamma \Proves[\Log{LK}] !B$,
 then $\Gamma \Proves[\Log{LK}] !A \land !B$.}{}

\tagitem{prvIf}{\ollabel{prop:provability-mp} If $\Gamma \Proves[\Log{LK}] !A$
  and $\Gamma \Proves[\Log{LK}] !A \lif !B$, then $\Gamma
  \Proves[\Log{LK}] !B$.}{}

\tagitem{prvIf}{\ollabel{prop:provability-lif} If $\Gamma \Proves[\Log{LK}]
  \lnot !A$ or $\Gamma \Proves[\Log{LK}] !B$, then $\Gamma
  \Proves[\Log{LK}] !A \lif !B$.}{}
\end{enumerate}
\end{prop}

\begin{proof}
\begin{enumerate}
\item Let the $\Log{LK}$-derivation of $\Gamma_0 \Sequent !A$ be
$\Pi_0$ and the $\Log{LK}$-derivation of $\Gamma_1 \cup\{!A\} \Sequent
\lfalse$ be $\Pi_1$. We can then derive

\begin{prooftree}

\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$ \vdots$ }
\noLine \UnaryInf$ \Gamma_0 \fCenter !A $
\doubleLine \UnaryInf$ \Gamma_0,\Gamma_1 \fCenter !A $

\AxiomC{$\Pi_1$}
\noLine \UnaryInfC{$ \vdots$ }
\noLine \UnaryInf$ \Gamma_1, !A \fCenter \lfalse$
\doubleLine \UnaryInf$ \Gamma_0, \Gamma_1, !A \fCenter \lfalse $

\RightLabel{cut} \BinaryInf$ \Gamma_0,\Gamma_1 \fCenter \lfalse $

\end{prooftree}
Since $\Gamma_0 \subseteq \Gamma$ and $\Gamma_1 \subseteq \Gamma$,
$\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, hence $\Gamma \Proves[\Log{LK}]
\lfalse$.

\item  
Suppose that $\Gamma \cup \{!A\} \Proves[\Log{LK}] \lfalse$. Then
there is a finite set $\Gamma_0 \subseteq \Gamma$ with
$\Proves[\Log{LK}] \Gamma_0 \cup \{!A\} \Sequent \lfalse$.  Let
$\Pi_0$ be an $\Log{LK}$-derivation of $\Gamma_0 \cup \{!A\} \Sequent
\lfalse$, and consider

\begin{prooftree}
\AxiomC{$\Pi_0$}
\UnaryInf$\Gamma_0 \cup \{!A\} \fCenter \lfalse$
\RightLabel{$\lnot$ right}
\UnaryInf$ \Gamma_0 \fCenter \lnot !A$
\end{prooftree}

\item There are finite sets
$\Gamma_0 \subseteq \Gamma$ and $\Gamma_1 \subseteq \Gamma$ so that
there are $\Log{LK}$-derivations $\Pi_0$ and $\Pi_1$ of $\Gamma_0, !A
\Sequent \lfalse$ and $\Gamma_1, \lnot !A \Sequent \lfalse$,
respectively. We can then derive

\begin{prooftree}

\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0, !A \fCenter \lfalse $
\RightLabel{$\lnot$ right} 
\UnaryInf$ \Gamma_0 \fCenter \lnot !A$

\AxiomC{$\Pi_1$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_1, \lnot !A \fCenter \lfalse $

\RightLabel{cut} \BinaryInf$ \Gamma_0, \Gamma_1 \fCenter \lfalse $

\end{prooftree}
Since $\Gamma_0 \subseteq \Gamma$ and $\Gamma_1 \subseteq \Gamma$,
$\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$. Hence $\Gamma
\Proves[\Log{LK}] \lfalse$.

% prop:provability-lor-left
\tagitem{defOr}{}{
\iftag{probOr}{Exercise.}{
There are finite sets $\Gamma_0,\Gamma_1 \subseteq \Gamma$ and
$\Log{LK}$-derivations $\Pi_0$ and $\Pi_1$ such that

\begin{prooftree}

\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0 !A \fCenter \lfalse $
\doubleLine \UnaryInf$ \Gamma_0,\Gamma_1,!A \fCenter \lfalse $

\AxiomC{$\Pi_1$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_1, !B \fCenter \lfalse $
\doubleLine \UnaryInf$ \Gamma_0,\Gamma_1, !B \fCenter \lfalse$

\RightLabel{$\lor$ left} \BinaryInf$ \Gamma_0, \Gamma_1, !A \lor !B
\fCenter \lfalse $
\end{prooftree}

Since $\Gamma_0,\Gamma_1\subseteq \Gamma$ and 
$\Gamma \cup \{!A \lor !B\} \Proves \lfalse$.}}

% prop:provability-lor-right
\tagitem{defOr}{}{
\iftag{probOr}{Exercise.}{
There is an $\Log{LK}$-derivation $\Pi_0$ and a finite set $\Gamma_0
\subseteq \Gamma$ such that we can derive

\begin{prooftree}

\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0 \fCenter !A $
\RightLabel{$\lor$ right} \UnaryInf$ \Gamma_0 \fCenter !A \lor !B$ 

\end{prooftree}

Therefore $\Gamma \Proves !A \lor !B$. The proof for when $\Gamma
\Proves[\Log{LK}] !B$ is similar.}}

% prop:provability-land-left
\tagitem{defAnd}{}{
\iftag{probAnd}{Exercise}{
If $\Gamma \Proves[\Log{LK}] !A \land !B$, there is a finite set
$\Gamma_0 \subseteq \Gamma$ and an $\Log{LK}$-derivation $\Pi_0$ of
$\Gamma_0 \Sequent !A \land !B$. Consider

\begin{prooftree}
\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0, \fCenter !A \land !B$
\Axiom$!A \fCenter !A$
\RightLabel{$\land$ left} 
\UnaryInf$!A \land !B \fCenter !A$
\RightLabel{cut} 
\BinaryInf$\Gamma_0 \fCenter !A$
\end{prooftree}

Hence, $\Gamma \Proves[\Log{LK}] !A$.  A similar derivation starting
with $!B \Sequent !B$ on the right side shows that $\Gamma
\Proves[\Log{LK}] !B$.}}

% prop:provability-land-right
\tagitem{defAnd}{}{
\iftag{probAnd}{Exercise.}{ 
If $\Gamma \Proves[\Log{LK}] !A$ as well as $\Gamma \Proves[\Log{LK}]
!B$, there are finite sets $\Gamma_0$, $\Gamma_1 \subseteq \Gamma$ and
an $\Log{LK}$-derivations $\Pi_0$ of $\Gamma_0 \Sequent !A$ and
$\Pi_1$ of $\Gamma_1 \Sequent !A$. Consider

\begin{prooftree}
\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0, \fCenter !A$
\AxiomC{$\Pi_1$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_1, \fCenter !B$
\RightLabel{$\land$ right} 
\BinaryInf$\Gamma_0, \Gamma_1 \fCenter !A \land !B $
\end{prooftree}
Since $\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, we have $\Gamma
\Proves[\Log{LK}] !A \land !B$.}}

% prop:provability-mp
\tagitem{defIf}{}{
\iftag{probIf}{Exercise.}{
Suppose that $\Gamma \Proves[\Log{LK}] !A$ and $\Gamma
\Proves[\Log{LK}] !A \lif !B$.  There are finite sets $\Gamma_0$,
$\Gamma_1 \subseteq \Gamma$ such that there are $\Log{LK}$-derivations
$\Pi_0$ of $\Gamma_0 \Sequent !A$ and $\Pi_1$ of $\Gamma_1 \Sequent !A
\lif !B$. Consider:

\begin{prooftree}

\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_1 \fCenter !A \lif !B$
\doubleLine \UnaryInf$ \Gamma_0, \Gamma_1, \Gamma_2 \fCenter !A \lif !B$

\AxiomC{$\Pi_1$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0 \fCenter !A $

\AxiomC{$!B \fCenter !B$}
\noLine \UnaryInfC{$\vdots$}
\doubleLine \UnaryInf$ \Gamma_0, !B \fCenter !B$

\RightLabel{$\lif$ left} 
\BinaryInf$\Gamma_0, !A \lif !B \fCenter !B$

\RightLabel{cut} \BinaryInf$ \Gamma_0,\Gamma_1 \fCenter !B$
\end{prooftree}
Since $\Gamma_0 \cup \Gamma_1 \subseteq \Gamma$, this
means that $\Gamma \Proves[\Log{LK}] !B$.}}

% prop:provability-lif
\tagitem{defIf}{}{
\iftag{probIf}{Exercise.}{
First suppose $\Gamma \Proves[\Log{LK}] \lnot !A$.  Then for some
finite $\Gamma_0 \subseteq \Gamma$ there is a $\Log{LK}$-derivation of
$\Gamma_0 \Sequent \lnot !A$. The following derivation shows that
$\Gamma \Proves[\Log{LK}] !A \lif !B$:

\begin{prooftree}
\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0 \fCenter \lnot !A$

\Axiom$!A \fCenter !A$
\RightLabel{$\lnot right$}
\UnaryInf$\lnot !A, !A \fCenter$
\doubleLine
\UnaryInf$!A, \lnot !A \fCenter !B$
\RightLabel{$\lif$ right}
\UnaryInf$\lnot !A \fCenter !A \lif !B$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter !A \lif !B$
\end{prooftree}

Now suppose $\Gamma \Proves[\Log{LK}] !B$.  Then for some finite
$\Gamma_0 \subseteq \Gamma$ there is a $\Log{LK}$-derivation of
$\Gamma_0 \Sequent !B$. The following derivation shows that $\Gamma
\Proves[\Log{LK}] !A \lif !B$:

\begin{prooftree}
\AxiomC{$\Pi_0$}
\noLine \UnaryInfC{$\vdots$}
\noLine \UnaryInf$ \Gamma_0 \fCenter !B$

\Axiom$!B \fCenter !B$
\doubleLine
\UnaryInf$!A, !B \fCenter !B$
\RightLabel{$\lif$ right}
\UnaryInf$!B \fCenter !A \lif !B$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter !A \lif !B$
\end{prooftree}}}

\end{enumerate}
\end{proof}

\begin<probOr,probAnd,probIf>{prob}
Complete the proof of \olref{prop:provability}.
\end{prob}


\begin{prop}[Generalization]
\ollabel{prop:generalization} 
If $\Gamma \Proves !A$ and $x$ is not free in any !!{formula} in
$\Gamma$, then $\Gamma \Proves \lforall[x][!A]$.
\end{prop}

\begin{proof}
If $\Gamma \Proves !A$, then for some finite $\Gamma_0 \subseteq
\Gamma$, there is an $\Log{LK}$-derivation of $\Gamma_0 \Sequent !A$.
Since $x$ does not occur free in any formula in $\Gamma_0$, the
egenvariable condition for ($\lforall$ right) is satisfied, and we
obtain an $\Log{LK}$-derivation of $\Gamma_0 \Sequent
\lforall[x][!A]$.
\end{proof}

\begin{prop}[Monotony]
\ollabel{prop:monotony}
If $\Gamma \subseteq \Delta$ and $\Gamma \Proves !A$, then $\Delta
\Proves !A$.
\end{prop}

\begin{proof}
Any finite $\Gamma_0 \subseteq \Gamma$ is also a finite subset
of~$\Delta$, so derivation of $\Gamma_0 \Sequent !A$ also shows
$\Delta \Proves !A$.
\end{proof}

\begin{thm}
\ollabel{thm:strong-generalization} If $c$ is a constant not occurring
in $\Gamma$ or $!A(x)$ and $\Gamma \Proves !A(c)$, then $\Gamma
\Proves \lforall[x][!A(c)]$.
\end{thm}

\begin{proof}
Let $\Pi_0$ be an $\Log{LK}$-derivation of $\Gamma_0 \Sequent !A(c)$
for some finite $\Gamma_0 \subseteq Gamma$.  By adding a $\lforall$
right inference, we obtain a proof of $\Gamma \Sequent
\lforall[x][!A(x)]$, since $c$ does not occur in $\Gamma$ or $!A(x)$
and thus the eigenvariable condition is satisfied.
\end{proof}

\begin{thm}
\ollabel{thM:provability-quantifiers}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{If $\Gamma \Proves !A(t)$ then $\Gamma \Proves
  \lexists[x][!A(x)]$}{} 

\tagitem{prvAll}{If $\Gamma \Proves \lnot !A(t)$ then $\Gamma \Proves
  \lnot \lforall[x][!A(x)]$}{}
\end{tagenumerate}
\end{thm}

\begin{proof}
\begin{tagenumerate}{prvEx,prvAll}
\tagitem{prvEx}{Suppose $\Gamma \Proves !A(t)$. Then for some
  finite~$\Gamma_0 \subseteq \Gamma$, $\Log{LK}$ derives $\Gamma_0
  \Sequent !A(t)$. Add an $\lexists$ right inference to get a
  derivation of $\Gamma_0 \Sequent \lexists[x][!A(x)]$.}{}
\tagitem{prvAll}{Suppose $\Gamma \Proves \lnot !A(t)$. Then there is a
  finite $\Gamma_0 \subseteq \Gamma$ and an $\Log{LK}$-derivation
  $\Pi$ of $\Gamma_0 \Sequent \lnot !A(t)$.  Then

\begin{prooftree}
\AxiomC{}
\RightLabel{$\Pi$}
\Deduce$\Gamma_0 \fCenter  \lnot !A(t)$
\Axiom$!A(t) \fCenter !A(t)$
\RightLabel{$\lforall$ right}
\UnaryInf$\lforall[x][!A(x)] \fCenter !A(t)$
\RightLabel{$\lnot$ left}
\UnaryInf$\lnot !A(t), \lforall[x][!A(x)]  \fCenter$
\RightLabel{$\lnot$ right}
\UnaryInf$\lnot !A(t) \fCenter \lnot \lforall[x][!A(x)]$
\RightLabel{cut}
\BinaryInf$\Gamma_0 \fCenter  \lnot \lforall[x][!A(x)]$
\end{prooftree}
shows that $\Gamma_0 \Proves  \lnot \lforall[x][!A(x)]$.}{}
\end{tagenumerate}
\end{proof}
\end{document}
