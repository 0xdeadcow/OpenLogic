\documentclass[modal-logic]{subfiles}

\begin{document}

\section{The Language of Basic Modal Logic}

Modal Logic deals with \emph{modal propositions} and the entailment
relations among them. Examples of modal propositions are the
following:
\begin{itemize}
\item It is necessary that $2+2=4$.
\item It is necessarily possible that it will rain tomorrow.
\item If it is necessarily possible that $!A$ then it is possible that $!A$.
\end{itemize}

Possibility and necessity are not the only modalities: other unary
connectives are also classified as modalities, for instance, ``it
ought to be the case that $!A$,'' ``It will be the case that
$!A$,'' ``$A$ knows that $!A$,'' or ``$A$ believes that $!A$.''


The basic language of modal logic contains propositional variables
$p$, $q$, \dots, $\bot$ (the falsity symbol), the familiar logical connective $\lnot$ (``not''),
$\land$ (``and''), $\lor$ (``or''), $\lif$, (``if\dots then''), as
well as the two basic modalities $\Box$ and $\Diamond$.  

\begin{defn}
\emph{Formulas} of the basic modal language are inductively defined as follows:
\begin{enumerate}
\item Every propositional variable $p \in \Var$ is an (atomic) formula.
\item $\bot$ is an (atomic) formula.
\item If $!A$ is a formula, so is $\lnot !A$.
\item If $!A$ and $!B$ are formulas, so are $(!A \land !B)$, $(!A \lor !B)$, and $(!A \lif !B)$.
\item If $!A$ is a formula, so are $\Box !A$ and $\Diamond !A$.
\end{enumerate}
\end{defn}

% modal depth

\begin{defn}
The \emph{modal depth} $d(!A)$ of a formula $!A$ in modal logic is defined recursively:
\begin{enumerate}
\item For a propositional variable $p \in \Var$, $d(p) = 0$.
\item $d(\lnot !A) = d(!A)$.
\item $d(!A \land !B) = d(!A \lor !B) = d(!A \lif !B) = \max( d(!A), d(!B))$.
\item $d(\Box !A) = d(\Diamond !A) = d(!A) + 1$.
\end{enumerate}
\end{defn}

% substitution instance

\begin{defn}\label{def:subst-inst}
  Where $\!A$ is a modal formula all of whose propositional variables are among $p_1,\ldots, p_n$,
  and $!C_1,\ldots,!C_n$ are also modal formulas, we define $!Ai[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}]$
  as the result of simultaneously substituting each $!B_i$ for
  $p_i$ in $\!A$. Formally, this is a definition by recursion on
  $!A$:
  \begin{itemize}
  \item If $!A$ is atomic, say $\!A= q$, then
    $!A[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}] =
    !C_i$ if $q$ is $p_i$ for some $i \le n$, and
    $\!A[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}] = q$
    otherwise (including the case $!A = \bot)$).
  \item If $\!A = \lnot!B$, then $\!A[\nf{!C_1}{p_1},
    \ldots, \nf{!C_n}{p_n}] = \lnot (!B[\nf{!C_1}{p_1},
    \ldots, \nf{!C_n}{p_n}])$.
  \item If $!A = !B \to !D$, then
    $\!A[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}] =
    (!Bi[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}]) \to
    (!D[\nf{!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}])$.
  \item If $!A = \Box !B$, then  $!Ai[\nf{\!C_1}{p_1},
    \ldots, \nf{!C_n}{p_n}] = \Box (!B[\nf{!C_1}{p_1},
    \ldots, \nf{!C_n}{p_n}])$. 
  \end{itemize}
The formula  $!A[\nf{\!C_1}{p_1}, \ldots, \nf{!C_n}{p_n}]$
is called a \emph{substitution instance} of $!A$. 
\end{defn}

\end{document}
